{
  "author": {
    "name": "K.Adam White",
    "url": "http://www.kadamwhite.com"
  },
  "name": "wordpress-rest-api",
  "version": "0.3.0",
  "description": "A client for interacting with the WordPress REST API",
  "main": "wp.js",
  "repository": {
    "type": "git",
    "url": "https://github.com/kadamwhite/wordpress-rest-api.git"
  },
  "license": "MIT",
  "bugs": {
    "url": "https://github.com/kadamwhite/wordpress-rest-api/issues"
  },
  "homepage": "https://github.com/kadamwhite/wordpress-rest-api",
  "keywords": [
    "api",
    "client",
    "cms",
    "wordpress"
  ],
  "scripts": {
    "prepublish": "grunt",
    "docs": "grunt yuidoc",
    "lint": "grunt jshint jscs",
    "mocha": "grunt test",
    "watch": "grunt watch",
    "test": "grunt"
  },
  "engines": {
    "node": ">= 0.10.0"
  },
  "dependencies": {
    "bluebird": "^2.1.3",
    "li": "^1.0.0",
    "lodash": "^2.4.1",
    "node.extend": "^1.0.10",
    "route-parser": "0.0.2",
    "superagent": "^0.18.0"
  },
  "devDependencies": {
    "chai": "^1.9.1",
    "chai-as-promised": "^4.1.1",
    "grunt": "^0.4.5",
    "grunt-cli": "^0.1.13",
    "grunt-contrib-jshint": "^0.10.0",
    "grunt-contrib-watch": "^0.6.1",
    "grunt-contrib-yuidoc": "^0.5.2",
    "grunt-jscs-checker": "^0.5.1",
    "grunt-newer": "^0.7.0",
    "grunt-simple-mocha": "^0.4.0",
    "jscs-stylish": "^0.3.0",
    "jshint-stylish": "^0.2.0",
    "load-grunt-tasks": "^0.6.0",
    "mocha": "^1.20.1",
    "sandboxed-module": "^1.0.0",
    "sinon": "^1.10.2",
    "sinon-chai": "^2.5.0"
  },
  "readme": "A WordPress REST API client for Node.js\n=======================================\n\nThis is a client for the [WordPress REST API](http://wp-api.org/). It is **under active development**, and should be considered beta software. More features will be coming over the course of the summer; meanwhile, **[issues](https://github.com/kadamwhite/wordpress-rest-api/issues)** are welcome if you find something that doesn't work!\n\n[![Build Status](https://api.travis-ci.org/kadamwhite/wordpress-rest-api.png?branch=master)](https://travis-ci.org/kadamwhite/wordpress-rest-api)\n\n**Index**:\n[Purpose](#purpose) &bull;\n[Installation](#installation) &bull;\n[Using The Client](#using-the-client) &bull;\n[Authentication](#authentication) &bull;\n[API Documentation](#api-documentation) &bull;\n[Issues](#issues) &bull;\n[Contributing](#contributing)\n\n## Purpose\n\nThis library is designed to make it easy for your [Node.js](http://nodejs.org) application to request specific resources from a WordPress install. It uses a query builder-style syntax to let you craft the request being made to the WP-API endpoints, then returns the API server's response to your application as a JavaScript object.\n\n## Installation\n\nTo use the library, install it with [npm](http://npmjs.org):\n```bash\nnpm install --save wordpress-rest-api\n```\nThen, within your application's script files, `require` the module to gain access to it:\n```javascript\nvar WP = require( 'wordpress-rest-api' );\n```\n\nThe REST API client requires Node.js version 0.10 or above.\n\n## Using The Client\n\nThe module is a constructor, so you can create an instance of the API client bound to the endpoint for your WordPress install:\n```javascript\nvar WP = require( 'wordpress-rest-api' );\nvar wp = new WP({ endpoint: 'http://src.wordpress-develop.dev' });\n```\nOnce an instance is constructed, you can chain off of it to construct a specific request. (Think of it as a query-builder for WordPress!)\n\nWe support requesting posts using either a callback-style or promise-style syntax:\n```javascript\n// Callbacks\nwp.posts().get(function( err, data ) {\n    if ( err ) {\n        // handle err\n    }\n    // do something with the returned posts\n});\n\n// Promises\nwp.posts().then(function( data ) {\n    // do something with the returned posts\n}).catch(function( err ) {\n    // handle error\n});\n```\n\n### Requesting Different Resources\n\nA WP instance object provides the following basic request methods:\n\n* `wp.posts()...`: Request items from the `/posts` endpoints\n* `wp.taxonomies()...`: Generate a request against the `/taxonomies` endpoints\n* `wp.pages()...`: Start a request for the `/pages` endpoints\n* `wp.users()...`: Get resources within the `/users` endpoints\n* `wp.types()...`: Get Post Type collections and objects from the `/posts/types` endpoints\n* `wp.media()...`: Get Media collections and objects from the `/media` endpoints\n\nAll of these methods return a customizable request object. The request object can be further refined with chaining methods, and/or sent to the server via `.get()`, `.post()`, `.put()`, `.delete()`, `.head()`, or `.then()`. (Not all endpoints support all methods; for example, you cannot POST or PUT records on `/posts/types`, as these are defined in WordPress plugin or theme code.)\n\nAdditional querying methods provided, by endpoint:\n\n* **posts**\n    - `wp.posts()`: get a collection of posts (default query)\n    - `wp.posts().id( n )`: get the post with ID *n*\n    - `wp.posts().id( n ).comments()`: get all comments for post with ID *n*\n    - `wp.posts().id( n ).comment( i )`: get a comment with the ID *i* from post with ID *n* \n    - `wp.posts().id( n ).revisions()`: get a collection of revisions for the post with ID *n*\n    - `wp.posts().type( type_name )`: get posts of custom type *type_name*\n    - *There is currently no support for querying post meta values*\n* **pages**\n    - `wp.pages()`: get a collection of page items\n    - `wp.pages().id( n )`: get the page with numeric ID *n*\n    - `wp.pages().path( 'path/str' )`: get the page with the root-relative URL path `path/str`\n    - `wp.pages().id( n ).comments()`: get all comments for page with ID *n*\n    - `wp.pages().id( n ).comment( i )`: get a comment with the ID *i* from page with ID *n* \n    - `wp.pages().id( n ).revisions()`: get a collection of revisions for the page with ID *n*\n* **taxonomies**\n    - `wp.taxonomies()`: retrieve all registered taxonomies\n    - `wp.taxonomies().taxonomy( 'taxonomy_name' )`: get a specific taxonomy object with name *taxonomy_name*\n    - `wp.taxonomies().taxonomy( 'taxonomy_name' ).terms()`: get all terms for taxonomy *taxonomy_name*\n    - `wp.taxonomies().taxonomy( 'taxonomy_name' ).term( termIdentifier )`: get the term with slug or ID *termIdentifier* from the taxonomy *taxonomy_name*\n    - **shortcut methods**: These methods enable concisely querying taxonomy endpoint sub-resources\n        - `wp.categories()`: shortcut method to retrieve the terms collection for the \"category\" taxonomy\n        - `wp.tags()`: shortcut method to retrieve the terms collection for the \"post_tag\" taxonomy\n        - `wp.taxonomy( 'tax_name' )`: shortcut method to retrieve the taxonomy object corresponding to the provided taxonomy name (equivalent to calling `wp.taxonomies().taxonomy( 'tax_name' )`)\n* **types**\n    - `wp.types()`: get a collection of all registered public post types\n    - `wp.types().type( 'cpt_name' )`: get the object for the custom post type with the name *cpt_name*\n* **users**\n    - `wp.users()`: get a collection of registered users\n    - `wp.users().me()`: get the authenticated user record\n    - `wp.users().id( n )`: get the user with ID *n*\n* **media**\n    - `wp.media()`: get a collection of media objects (attachments)\n    - `wp.media().id( n )`: get media object with ID *n*\n\nFor security reasons, methods like `.revisions()` and `.users()` require the request to be authenticated.\n\n### Filtering Collections\n\nQueries against collection endpoints (like `wp.posts()`, which maps to `endpoint/posts/`) can be filtered to specify a subset of posts to return. Many of the WP_Query values are available by default, including `tag`, `author_name`, `page_id`, etc; even more parameters are available to filter byif you authenticate with the API using either [Basic Auth](https://github.com/WP-API/Basic-Auth) or [OAuth](https://github.com/WP-API/OAuth1). You can continue to chain properties until you call `.then`, `.get`, `.post`, `.put`, or `.delete` on the request chain.\n\nExample queries:\n```javascript\n// All posts belonging to author with nicename \"jadenbeirne\"\nwp.posts().filter( 'author_name', 'jadenbeirne' ).get();\n\n// All posts in category \"islands\" and tags \"clouds\" & \"sunset\"\n// (filter can either accept two parameters, as above where it's called with\n// a key and a value, or an object of parameter keys and values, as below)\nwp.posts().filter({\n    category_name: 'islands',\n    tag: [ 'clouds', 'sunset' ]\n}).get();\n\n// Convenience methods exist for filtering by taxonomy terms\n// 'category' can accept either numeric IDs, or string slugs, but not both!\nwp.posts().category( 7 ).tag( 'music' ).get();\n\n// Convenience methods also exist for specifying an author: this can also take\n// either a numeric ID, or a nicename string. Unlike tags, setting a new value\n// will erase any prior value, regardless of type.\n\n// equivalent to .filter( 'author_name', 'williamgibson' ):\nwp.posts().author( 'williamgibson' ).get();\n// equivalent to .filter( 'author', 42 ):\nwp.posts().author( 42 ).get();\n// last value wins: this queries for author_name == frankherbert\nwp.posts().author( 42 ).author( 'frankherbert' ).get();\n\n// Put it all together: Get the 5 most recent posts by jadenbeirne in 'fiction'\nwp.posts()\n    .author( 'jadenbeirne' )\n    .filter( 'posts_per_page', 5 )\n    .tag( 'fiction' )\n    .get();\n\n// posts_per_page is exposed to set the maximum number of posts to return\n// All posts:\nwp.posts().filter( 'posts_per_page', -1 )...\n// 20 latest posts:\nwp.posts().filter( 'posts_per_page', 20 )...\n```\n\n**Filtering Shortcut Methods**\n\nThe following methods are shortcuts for filtering the requested collection down by various commonly-used criteria:\n\n* `.category( category )`: find posts in a specific category\n* `.tag( tag )`: find posts with a specific tag\n* `.taxonomy( name, term )`: find items with a specific taxonomy term\n* `.search( searchString )`: find posts containing the specified search term(s)\n* `.author( author )`: find posts by a specific author, designated either by name or by ID\n* `.name( slug )`: find the post with the specified slug\n* `.slug( slug )`: alias for `.name()`\n\n### Custom Post Types\n\nIn addition to the filters described above, the `posts()` request method provides a chaining method `type()` which can be used to target your query at one or more custom post types:\n```javascript\n// Find items for a specific CPT\nwp.posts().type( 'your_cpt' )...\n\n// Retrieve both your own CPT, and the native \"post\" type\nwp.posts().type([ 'your_cpt', 'post' ])...\n```\nIf you are building an application that relies very heavily on custom types, you may find yourself wanting a convenience method for requesting your own custom type. The method `registerType` can be used to define a convenience method of that sort:\n```javascript\n// Defines a CPT handler `events()` on the current WP instance\nwp.events = wp.registerType( 'event_cpt' );\n```\n`wp.events()`` can now be used to specify requests for that custom post type quickly:\n```javascript\nwp.events().then(function( eventItems ) {\n  // Do something with the returned collection of event objects\n});\n```\n\n## Working with Paged Response Data\n\nWordPress sites can have a lot of content&mdash;far more than you'd want to pull down in a single request. The API endpoints default to providing a limited number of items per request, the same way that a WordPress site will default to 10 posts per page in archive views. The number of objects you can get back can be adjusted by passing a `posts_per_page` filter, but many servers will return a 502 error if too much information is requested in one batch.\n\nTo work around these restrictions, paginated collection responses are augmented with a `_paging` property. That property contains some useful metadata:\n\n- `total`: The total number of records matching the provided query\n- `totalPages`: The number of pages available (`total` / `posts_per_page`)\n- `next`: A WPRequest object pre-bound to the next page of results\n- `prev`: A WPRequest object pre-bound to the previous page of results\n- `links`: an object containing the parsed `link` HTTP header data\n\nThe existence of the `_paging` property can be used as a flag to conditionally show or hide your paging UI, if necessary, as it will not be present for single-page or single-item responses.\n\nYou can use the `next` and `prev` properties to traverse an entire collection, should you so choose. For example, this snippet will recursively request the next page and concatenate it with existing results, in order to build up an array of every post on your site:\n```javascript\ngetAll( request ) {\n  return request.then(function( response ) {\n    if ( ! response._paging || ! response._paging.next ) {\n      return response;\n    }\n    // Request the next page and return both responses as one collection\n    return Promise.all([\n      response,\n      getAll( response._paging.next )\n    ]).then(function( responses ) {\n      return _.flatten( responses );\n    });\n  });\n}\n// Kick off the request\ngetAll( wp.posts() ).then(function( allPosts ) { /* ... */ });\n```\n\nBe aware that this sort of unbounded recursion can take a **very long time**: if you use this technique in your application, we strongly recommend caching the response objects in a local database rather than re-requesting from the WP remote every time you need them.\n\n## Authentication\n\nYou must be authenticated with WordPress to create, edit or delete resources via the API. Some WP-API endpoints additionally require authentication for GET requsts in cases where the data being requested could be considered private: examples include any of the `/users` endpoints, requests where the `context` query parameter is `true`, and `/revisions` for posts and pages, among others.\n\nThis library currently supports [basic HTTP authentication](http://en.wikipedia.org/wiki/Basic_access_authentication). To authenticate with your WordPress install,\n\n1. Download and install the [Basic Authentication handler plugin](https://github.com/WP-API/Basic-Auth) on your target WordPress site. *(Note that the basic auth handler is not curently available through the plugin repository: you must install it manually.)*\n2. Activate the plugin.\n3. Specify the username and password of an authorized user (a user that can edit_posts) when instantiating the WP request object:\n```javascript\nvar wp = new WP({\n    endpoint: 'http://www.website.com/wp-json',\n    username: 'someusername',\n    password: 'thepasswordforthatuser'\n});\n```\n\nNow any requests generated from this WP instance will use that username and password for basic authentication if the targeted endpoint requires it.\n\nAs an example, `wp.users().me()` will automatically enable authentication to permit access to the `/users/me` endpoint. (If a username and password had not been provided, a 401 error would have been returned.)\n\n### Manually forcing authentication\n\nBecause authentication may not always be set when needed, an `.auth()` method is provided which can enable authentication for any request chain:\n```javascript\n// This will authenticate the GET to /posts/id/817\nwp.posts().id( 817 ).auth().get(...\n```\nThis `.auth` method can also be used to manually specify a username and a password as part of a request chain:\n```javascript\n// Use username \"mcurie\" and password \"nobel\" for this request\nwp.posts().id( 817 ).auth( 'mcurie', 'nobel' ).get(...\n```\nThis will override any previously-set username or password values.\n\n**Authenticate all requests for a WP instance**\n\nIt is possible to make all requests from a WP instance use authentication by setting the `auth` option to `true` on instantiation:\n```javascript\nvar wp = new WP({\n    endpoint: // ...\n    username: // ...\n    password: // ...\n    auth: true\n});\n```\n\n#### SECURITY WARNING\n\nPlease be aware that basic authentication sends your username and password over the wire, in plain text. **We only recommend using basic authentication in production if you are securing your requests with SSL.**\n\nMore robust authentication methods will hopefully be added; we would welcome contributions in this area!\n\n## API Documentation\n\nIn addition to the above getting-started guide, we have automatically-generated [API documentation](http://kadamwhite.github.io/wordpress-rest-api). More user-oriented documentation, including a more in-depth overview of available endpoint and filter methods, will be added to this README in the near future.\n\n\n## Issues\n\nIf you identify any errors in this module, or have an idea for an improvement, please [open an issue](https://github.com/kadamwhite/wordpress-rest-api/issues). We're excited to see what the community thinks of this project, and we would love your input!\n\n## Contributing\n\nWe welcome contributions large and small. See our [contributor guide](CONTRIBUTING.md) for more information.\n",
  "readmeFilename": "README.md",
  "_id": "wordpress-rest-api@0.3.0",
  "dist": {
    "shasum": "61cbd7ea1bc645c85a91637fb076b2f33b96ad5c"
  },
  "_from": "wordpress-rest-api@",
  "_resolved": "https://registry.npmjs.org/wordpress-rest-api/-/wordpress-rest-api-0.3.0.tgz"
}
